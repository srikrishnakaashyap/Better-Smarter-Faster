from GenerateGraph import GenerateGraph
from collections import defaultdict
import random
from UtilityFunctions import Utility
import csv
import graph as g
import math
import copy
import json


class Agent1:
    def __init__(self):
        self.generateGraph = GenerateGraph()
        self.discount = 0.75
        self.nonterminalReward = -0.001
        self.error = 1e-22

        self.utility = None

    def getUtilityFromFile(self):
        utility = [[[-1 for i in range(50)] for j in range(50)] for k in range(50)]
        with open("data.csv") as csv_file:
            csv_reader = csv.reader(csv_file, delimiter=",")
            line_count = 0
            for row in csv_reader:
                if line_count == 0:
                    print(f'Column names are {", ".join(row)}')
                    line_count += 1
                else:
                    utility[int(row[0])][int(row[1])][int(row[2])] = float(row[-1])
                    line_count += 1
        return utility

    def getProbability(self, graph, dist, degree, utility, currState, nextState):
        """
        Adding rewards for taking that particular action
        """
        agentProbability = 1
        preyProbability = 1 / (degree[currState[1]] + 1)

        predNeighbours = Utility.getNeighbours(graph, currState[2])

        neighbourDistanceMap = defaultdict(list)
        for n in predNeighbours:
            neighbourDistanceMap[dist[n][nextState[0]]].append(n)
        minimumDistanceList = neighbourDistanceMap.get(min(neighbourDistanceMap), [])
        if nextState[2] in minimumDistanceList:
            predProbability = 0.6 / (len(minimumDistanceList)) + 0.4 / (
                degree[currState[2]] + 1
            )
        else:
            predProbability = 0.4 / (degree[currState[2]] + 1)
        # print(preyProbability, predProbability,"test")
        return preyProbability * predProbability

    def valueIteration(
        self, graph, dist, degree, agentPos, preyPos, predPos, size=50, iterations=100
    ):

        utility = [
            [[-1 for i in range(size)] for j in range(size)] for k in range(size)
        ]

        for i in range(size):
            for j in range(size):
                for k in range(size):

                    # if i == j:
                    utility[i][j][k] = dist[i][j]
                    utility[i][i][j] = 0
                    utility[i][j][i] = math.inf
                    predNeighbours = Utility.getNeighbours(graph, k)
                    for l in predNeighbours:
                        utility[l][j][k] = math.inf

        # print(utility)

        a = 0
        while iterations > 0:

            a += 1
            error = 0

            nextUtility = copy.deepcopy(utility)

            # Compute Next Utility

            # For all the states
            for agent in range(size):
                for prey in range(size):
                    for pred in range(size):

                        # For all the actions
                        nextVal = math.inf
                        # Compute the utility for all the actions
                        agentActions = Utility.getNeighbours(graph, agent)
                        su = 0
                        for newAgent in agentActions:
                            preyActions = Utility.getNeighbours(
                                graph, prey, include=True
                            )
                            predActions = Utility.getNeighbours(graph, pred)

                            s = 0
                            for k in preyActions:
                                for l in predActions:

                                    s += (
                                        self.getProbability(
                                            graph,
                                            dist,
                                            degree,
                                            utility,
                                            (agent, prey, pred),
                                            (newAgent, k, l),
                                        )
                                        * utility[newAgent][k][l]
                                    )

                            nextVal = min(nextVal, s * self.discount)

                        if agent == pred or abs(agent - pred) == 1:
                            reward = math.inf
                        elif agent == prey:
                            reward = 0
                        else:
                            reward = 1

                        nextUtility[agent][prey][pred] = reward + nextVal
                        if (
                            utility[agent][prey][pred] == math.inf
                            or nextUtility[agent][prey][pred] == math.inf
                        ):
                            continue
                        error = max(
                            error,
                            abs(
                                utility[agent][prey][pred]
                                - nextUtility[agent][prey][pred]
                            ),
                        )
            utility = copy.deepcopy(nextUtility)
            print(
                "Value iteration for",
                a,
                error,
                self.error * (1 - self.discount) / self.discount,
                # utility,
            )
            if error < 10**-15:
                break

            iterations -= 1

        return utility

    def calculateHeuristic(
        self, agentPos, preyPos, predPos, nextPreyPositions, dist, beliefArray, graph
    ):
        agentNeighbours = Utility().getNeighbours(graph, agentPos)
        agentNeighbours.append(agentPos)

        heuristics = {}
        for n in agentNeighbours:

            currheuristic = 0
            for i in nextPreyPositions:

                neighbourPredDsitance = dist[n][predPos] + 1

                deno = (neighbourPredDsitance + 0.1) ** 10

                currheuristic += dist[n][i] * (1 - beliefArray[i]) / deno

            heuristics[n] = currheuristic

        return heuristics

    def finddiff(self,size, graph, dist):
        for agent in range(size):
            for prey in range(size):
                for pred in range(size):
                    beliefArray = [0 for i in range(len(graph))]

                    beliefArray[prey] = 1

                    nextPreyPositions = []
                    # for i, j in enumerate(nextTimeStepBeliefArray):
                    #     if j != 0:
                    nextPreyPositions.append(prey)
                    heuristicMap = self.calculateHeuristic(
                        agent,
                        prey,
                        pred,
                        nextPreyPositions,
                        dist,
                        beliefArray,
                        graph,
                    )

                    # move agent
                    agentPos3 = sorted(heuristicMap.items(), key=lambda x: x[1])[0][0]
                    agentPos1 = self.moveAgent(agent, prey, pred, graph, dist)
                    agentNeighbours = Utility.getNeighbours(graph, agent)

                    maxValue = math.inf
                    maxNeighbour = 1

                    for n in agentNeighbours:

                        val = self.utility[n][prey][pred]

                        if val < maxValue:
                            maxValue = val
                            maxNeighbour = n

                    agentPos2 = maxNeighbour
                    if(agentPos1!=agentPos2 and agentPos3!=agentPos2 and agentPos3 != agentPos1):
                        print("diff move for 1 and u")
                        print(agent, prey, pred)
                        print("agent1", agentPos1)
                        print("agent2", agentPos3)
                        print("agentUstar", agentPos2)

    def moveAgent(self, agentPos, preyPos, predPos, graph, dist):

        agentNeighbours = Utility.getNeighbours(graph, agentPos)

        neighboursPreyDistance = []
        neighboursPredatorDistance = []

        currPreyDist = dist[agentPos][preyPos]
        currPredDist = dist[agentPos][predPos]

        for index, elem in enumerate(agentNeighbours):
            neighboursPreyDistance.append(dist[elem][preyPos])
            neighboursPredatorDistance.append(dist[elem][predPos])

        options = []
        for i in range(len(neighboursPredatorDistance)):
            if (
                neighboursPreyDistance[i] < currPreyDist
                and neighboursPredatorDistance[i] > currPredDist
            ):
                options.append(agentNeighbours[i])

        # Break ties by choosing optimal choice for agent 2
        if len(options) > 0:
            return random.choice(options)

        for i in range(len(neighboursPredatorDistance)):
            if (
                neighboursPreyDistance[i] < currPreyDist
                and neighboursPredatorDistance[i] == currPredDist
            ):
                options.append(agentNeighbours[i])

        if len(options) > 0:
            return random.choice(options)

        for i in range(len(neighboursPredatorDistance)):
            if (
                neighboursPreyDistance[i] == currPreyDist
                and neighboursPredatorDistance[i] > currPredDist
            ):
                options.append(agentNeighbours[i])

        if len(options) > 0:
            return random.choice(options)

        for i in range(len(neighboursPredatorDistance)):
            if (
                neighboursPreyDistance[i] == currPreyDist
                and neighboursPredatorDistance[i] == currPredDist
            ):
                options.append(agentNeighbours[i])

        if len(options) > 0:
            return random.choice(options)

        for i in range(len(neighboursPredatorDistance)):
            if neighboursPredatorDistance[i] > currPredDist:
                options.append(agentNeighbours[i])

        if len(options) > 0:
            return random.choice(options)

        for i in range(len(neighboursPredatorDistance)):
            if neighboursPredatorDistance[i] == currPredDist:
                options.append(agentNeighbours[i])

        if len(options) > 0:
            return random.choice(options)

        return agentPos

    def agent1(
        self,
        graph,
        dist,
        degree,
        agentPos,
        preyPos,
        predPos,
        size=50,
        runs=100,
        visualize=False,
    ):

        if self.utility is None:
            self.utility = self.getUtilityFromFile()
            # self.utility = self.valueIteration(
            #     graph, dist, degree, agentPos, preyPos, predPos, size
            # )

            with open("test.txt", "w") as f:

                f.write(json.dumps(self.utility))

            # print(self.utility)
        ma=-1
        maagent=-1
        maprey=-1
        mapred=-1
        for agent in range(size):
            for prey in range(size):
                for pred in range(size):
                    if(self.utility[agent][prey][pred]!=math.inf and self.utility[agent][prey][pred]>ma):
                        ma=self.utility[agent][prey][pred]
                        maagent=agent
                        maprey=prey
                        mapred=pred
        print(ma,maagent,maprey,mapred,"test")


        while runs > 0:

            if agentPos == predPos:
                return False, 3, 100 - runs, agentPos, predPos, preyPos

            if agentPos == preyPos:
                return True, 0, 100 - runs, agentPos, predPos, preyPos

            agentNeighbours = Utility.getNeighbours(graph, agentPos)

            maxValue = math.inf
            maxNeighbour = 1

            for n in agentNeighbours:

                val = self.utility[n][preyPos][predPos]

                if val < maxValue:
                    maxValue = val
                    maxNeighbour = n

            agentPos = maxNeighbour

            if agentPos == predPos:
                return False, 4, 100 - runs, agentPos, predPos, preyPos

            # check prey
            if agentPos == preyPos:
                return True, 1, 100 - runs, agentPos, predPos, preyPos

            preyPos = Utility.movePrey(preyPos, graph)

            if agentPos == preyPos:
                return True, 2, 100 - runs, agentPos, predPos, preyPos

            predPos = Utility.movePredator(agentPos, predPos, graph, dist)

            runs -= 1

        return False, 5, 100, agentPos, predPos, preyPos

    def executeAgent(self, size):

        # graph, path, dist, degree = self.generateGraph.generateGraph(size)

        graph, dist, degree = (
            g.getGraph(),
            g.getDist(),
            g.getDegree(),
        )
        counter = 0

        stepsCount = 0
        for _ in range(100):

            agentPos = random.randint(0, size - 1)
            preyPos = random.randint(0, size - 1)
            predPos = random.randint(0, size - 1)
            while predPos == agentPos:
                predPos = random.randint(0, size - 1)

            result, line, steps, agentPos, predPos, preyPos = self.agent1(
                graph, dist, degree, agentPos, preyPos, predPos, size, 100, False
            )

            print(result, agentPos, predPos, preyPos)
            counter += result
            stepsCount += steps
        # print(self.agent1(graph, path, dist, agentPos, preyPos, predPos))
        # print(result, line)

        return counter, stepsCount / 100


if __name__ == "__main__":

    agent1 = Agent1()
    counter = 0
    stepsArray = []
    for _ in range(1):

        result, steps = agent1.executeAgent(50)
        counter += result
        stepsArray.append(steps)
    print(counter, stepsArray)
    p=[
        [
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            0,
            0,
            1,
        ],
        [
            1,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            1,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            1,
            0,
            1,
            0,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            1,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            1,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            1,
            0,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            0,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            0,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            0,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            1,
            0,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            0,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            0,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            1,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            0,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
            1,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            0,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            1,
            1,
            0,
            0,
            0,
        ],
        [
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            1,
            0,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            1,
            0,
            1,
            0,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            0,
            0,
            1,
            0,
            1,
            0,
        ],
        [
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            1,
        ],
        [
            1,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
        ],
    ]
    q=[
        [
            0,
            1,
            2,
            3,
            2,
            3,
            4,
            4,
            5,
            5,
            6,
            6,
            7,
            7,
            8,
            8,
            9,
            9,
            10,
            10,
            11,
            11,
            11,
            10,
            11,
            12,
            11,
            10,
            9,
            8,
            8,
            7,
            7,
            6,
            7,
            7,
            6,
            5,
            4,
            5,
            6,
            5,
            4,
            3,
            2,
            1,
            2,
            3,
            2,
            1,
        ],
        [
            1,
            0,
            1,
            2,
            1,
            2,
            3,
            3,
            4,
            4,
            5,
            5,
            6,
            6,
            7,
            7,
            8,
            8,
            9,
            9,
            10,
            10,
            11,
            11,
            12,
            11,
            12,
            11,
            10,
            9,
            9,
            8,
            8,
            7,
            8,
            8,
            7,
            6,
            5,
            6,
            7,
            6,
            5,
            4,
            3,
            2,
            3,
            4,
            3,
            2,
        ],
        [
            2,
            1,
            0,
            1,
            2,
            1,
            2,
            2,
            3,
            3,
            4,
            4,
            5,
            5,
            6,
            6,
            7,
            7,
            8,
            8,
            9,
            9,
            10,
            11,
            11,
            10,
            11,
            11,
            11,
            10,
            10,
            9,
            9,
            8,
            9,
            9,
            8,
            7,
            6,
            7,
            8,
            7,
            6,
            5,
            4,
            3,
            4,
            5,
            4,
            3,
        ],
        [
            3,
            2,
            1,
            0,
            1,
            2,
            2,
            1,
            2,
            3,
            4,
            3,
            4,
            5,
            6,
            5,
            6,
            7,
            8,
            7,
            8,
            9,
            10,
            11,
            10,
            9,
            10,
            11,
            12,
            11,
            11,
            10,
            10,
            9,
            10,
            10,
            9,
            8,
            7,
            8,
            9,
            8,
            7,
            6,
            5,
            4,
            5,
            6,
            5,
            4,
        ],
        [
            2,
            1,
            2,
            1,
            0,
            1,
            2,
            2,
            3,
            3,
            4,
            4,
            5,
            5,
            6,
            6,
            7,
            7,
            8,
            8,
            9,
            9,
            10,
            11,
            11,
            10,
            11,
            11,
            11,
            10,
            10,
            9,
            9,
            8,
            9,
            9,
            8,
            7,
            6,
            7,
            8,
            7,
            6,
            5,
            4,
            3,
            4,
            5,
            4,
            3,
        ],
        [
            3,
            2,
            1,
            2,
            1,
            0,
            1,
            2,
            3,
            2,
            3,
            4,
            5,
            4,
            5,
            6,
            7,
            6,
            7,
            8,
            9,
            8,
            9,
            10,
            11,
            10,
            11,
            10,
            11,
            11,
            11,
            10,
            10,
            9,
            10,
            10,
            9,
            8,
            7,
            8,
            9,
            8,
            7,
            6,
            5,
            4,
            5,
            6,
            5,
            4,
        ],
        [
            4,
            3,
            2,
            2,
            2,
            1,
            0,
            1,
            2,
            1,
            2,
            3,
            4,
            3,
            4,
            5,
            6,
            5,
            6,
            7,
            8,
            7,
            8,
            9,
            10,
            9,
            10,
            9,
            10,
            11,
            12,
            11,
            11,
            10,
            11,
            11,
            10,
            9,
            8,
            9,
            10,
            9,
            8,
            7,
            6,
            5,
            6,
            7,
            6,
            5,
        ],
        [
            4,
            3,
            2,
            1,
            2,
            2,
            1,
            0,
            1,
            2,
            3,
            2,
            3,
            4,
            5,
            4,
            5,
            6,
            7,
            6,
            7,
            8,
            9,
            10,
            9,
            8,
            9,
            10,
            11,
            12,
            12,
            11,
            11,
            10,
            11,
            11,
            10,
            9,
            8,
            9,
            10,
            9,
            8,
            7,
            6,
            5,
            6,
            7,
            6,
            5,
        ],
        [
            5,
            4,
            3,
            2,
            3,
            3,
            2,
            1,
            0,
            1,
            2,
            1,
            2,
            3,
            4,
            3,
            4,
            5,
            6,
            5,
            6,
            7,
            8,
            9,
            8,
            7,
            8,
            9,
            10,
            11,
            12,
            12,
            12,
            11,
            12,
            12,
            11,
            10,
            9,
            10,
            11,
            10,
            9,
            8,
            7,
            6,
            7,
            8,
            7,
            6,
        ],
        [
            5,
            4,
            3,
            3,
            3,
            2,
            1,
            2,
            1,
            0,
            1,
            2,
            3,
            2,
            3,
            4,
            5,
            4,
            5,
            6,
            7,
            6,
            7,
            8,
            9,
            8,
            9,
            8,
            9,
            10,
            11,
            12,
            12,
            11,
            11,
            12,
            11,
            10,
            9,
            10,
            11,
            10,
            9,
            8,
            7,
            6,
            7,
            8,
            7,
            6,
        ],
        [
            6,
            5,
            4,
            4,
            4,
            3,
            2,
            3,
            2,
            1,
            0,
            1,
            2,
            1,
            2,
            3,
            4,
            3,
            4,
            5,
            6,
            5,
            6,
            7,
            8,
            7,
            8,
            7,
            8,
            9,
            10,
            11,
            11,
            11,
            10,
            11,
            12,
            11,
            10,
            11,
            12,
            11,
            10,
            9,
            8,
            7,
            8,
            9,
            8,
            7,
        ],
        [
            6,
            5,
            4,
            3,
            4,
            4,
            3,
            2,
            1,
            2,
            1,
            0,
            1,
            2,
            3,
            2,
            3,
            4,
            5,
            4,
            5,
            6,
            7,
            8,
            7,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            12,
            12,
            11,
            12,
            12,
            11,
            10,
            11,
            12,
            11,
            10,
            9,
            8,
            7,
            8,
            9,
            8,
            7,
        ],
        [
            7,
            6,
            5,
            4,
            5,
            5,
            4,
            3,
            2,
            3,
            2,
            1,
            0,
            1,
            2,
            1,
            2,
            3,
            4,
            3,
            4,
            5,
            6,
            7,
            6,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            11,
            11,
            10,
            11,
            12,
            12,
            11,
            12,
            12,
            12,
            11,
            10,
            9,
            8,
            9,
            10,
            9,
            8,
        ],
        [
            7,
            6,
            5,
            5,
            5,
            4,
            3,
            4,
            3,
            2,
            1,
            2,
            1,
            0,
            1,
            2,
            3,
            2,
            3,
            4,
            5,
            4,
            5,
            6,
            7,
            6,
            7,
            6,
            7,
            8,
            9,
            10,
            10,
            10,
            9,
            10,
            11,
            11,
            11,
            12,
            11,
            12,
            11,
            10,
            9,
            8,
            9,
            10,
            9,
            8,
        ],
        [
            8,
            7,
            6,
            6,
            6,
            5,
            4,
            5,
            4,
            3,
            2,
            3,
            2,
            1,
            0,
            1,
            2,
            1,
            2,
            3,
            4,
            3,
            4,
            5,
            6,
            5,
            6,
            5,
            6,
            7,
            8,
            9,
            9,
            9,
            8,
            9,
            10,
            10,
            11,
            11,
            10,
            11,
            12,
            11,
            10,
            9,
            10,
            11,
            10,
            9,
        ],
        [
            8,
            7,
            6,
            5,
            6,
            6,
            5,
            4,
            3,
            4,
            3,
            2,
            1,
            2,
            1,
            0,
            1,
            2,
            3,
            2,
            3,
            4,
            5,
            6,
            5,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            10,
            10,
            9,
            10,
            11,
            11,
            12,
            12,
            11,
            12,
            12,
            11,
            10,
            9,
            10,
            11,
            10,
            9,
        ],
        [
            9,
            8,
            7,
            6,
            7,
            7,
            6,
            5,
            4,
            5,
            4,
            3,
            2,
            3,
            2,
            1,
            0,
            1,
            2,
            1,
            2,
            3,
            4,
            5,
            4,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            9,
            9,
            8,
            9,
            10,
            10,
            11,
            11,
            10,
            11,
            12,
            12,
            11,
            10,
            11,
            12,
            11,
            10,
        ],
        [
            9,
            8,
            7,
            7,
            7,
            6,
            5,
            6,
            5,
            4,
            3,
            4,
            3,
            2,
            1,
            2,
            1,
            0,
            1,
            2,
            3,
            2,
            3,
            4,
            5,
            4,
            5,
            4,
            5,
            6,
            7,
            8,
            8,
            8,
            7,
            8,
            9,
            9,
            10,
            10,
            9,
            10,
            11,
            11,
            11,
            10,
            11,
            12,
            11,
            10,
        ],
        [
            10,
            9,
            8,
            8,
            8,
            7,
            6,
            7,
            6,
            5,
            4,
            5,
            4,
            3,
            2,
            3,
            2,
            1,
            0,
            1,
            2,
            1,
            2,
            3,
            4,
            3,
            4,
            3,
            4,
            5,
            6,
            7,
            7,
            7,
            6,
            7,
            8,
            8,
            9,
            9,
            8,
            9,
            10,
            10,
            11,
            11,
            12,
            11,
            12,
            11,
        ],
        [
            10,
            9,
            8,
            7,
            8,
            8,
            7,
            6,
            5,
            6,
            5,
            4,
            3,
            4,
            3,
            2,
            1,
            2,
            1,
            0,
            1,
            2,
            3,
            4,
            3,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            8,
            8,
            7,
            8,
            9,
            9,
            10,
            10,
            9,
            10,
            11,
            11,
            12,
            11,
            12,
            12,
            12,
            11,
        ],
        [
            11,
            10,
            9,
            8,
            9,
            9,
            8,
            7,
            6,
            7,
            6,
            5,
            4,
            5,
            4,
            3,
            2,
            3,
            2,
            1,
            0,
            1,
            2,
            3,
            2,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            7,
            7,
            6,
            7,
            8,
            8,
            9,
            9,
            8,
            9,
            10,
            10,
            11,
            12,
            12,
            11,
            12,
            12,
        ],
        [
            11,
            10,
            9,
            9,
            9,
            8,
            7,
            8,
            7,
            6,
            5,
            6,
            5,
            4,
            3,
            4,
            3,
            2,
            1,
            2,
            1,
            0,
            1,
            2,
            3,
            2,
            3,
            2,
            3,
            4,
            5,
            6,
            6,
            6,
            5,
            6,
            7,
            7,
            8,
            8,
            7,
            8,
            9,
            9,
            10,
            11,
            11,
            10,
            11,
            12,
        ],
        [
            11,
            11,
            10,
            10,
            10,
            9,
            8,
            9,
            8,
            7,
            6,
            7,
            6,
            5,
            4,
            5,
            4,
            3,
            2,
            3,
            2,
            1,
            0,
            1,
            2,
            3,
            2,
            1,
            2,
            3,
            4,
            5,
            5,
            5,
            4,
            5,
            6,
            6,
            7,
            7,
            6,
            7,
            8,
            8,
            9,
            10,
            10,
            9,
            10,
            11,
        ],
        [
            10,
            11,
            11,
            11,
            11,
            10,
            9,
            10,
            9,
            8,
            7,
            8,
            7,
            6,
            5,
            6,
            5,
            4,
            3,
            4,
            3,
            2,
            1,
            0,
            1,
            2,
            2,
            2,
            1,
            2,
            3,
            4,
            4,
            4,
            3,
            4,
            5,
            5,
            6,
            6,
            5,
            6,
            7,
            7,
            8,
            9,
            9,
            8,
            9,
            10,
        ],
        [
            11,
            12,
            11,
            10,
            11,
            11,
            10,
            9,
            8,
            9,
            8,
            7,
            6,
            7,
            6,
            5,
            4,
            5,
            4,
            3,
            2,
            3,
            2,
            1,
            0,
            1,
            1,
            2,
            2,
            3,
            4,
            5,
            5,
            5,
            4,
            5,
            6,
            6,
            7,
            7,
            6,
            7,
            8,
            8,
            9,
            10,
            10,
            9,
            10,
            11,
        ],
        [
            12,
            11,
            10,
            9,
            10,
            10,
            9,
            8,
            7,
            8,
            7,
            6,
            5,
            6,
            5,
            4,
            3,
            4,
            3,
            2,
            1,
            2,
            3,
            2,
            1,
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            6,
            6,
            5,
            6,
            7,
            7,
            8,
            8,
            7,
            8,
            9,
            9,
            10,
            11,
            11,
            10,
            11,
            12,
        ],
        [
            11,
            12,
            11,
            10,
            11,
            11,
            10,
            9,
            8,
            9,
            8,
            7,
            6,
            7,
            6,
            5,
            4,
            5,
            4,
            3,
            2,
            3,
            2,
            2,
            1,
            1,
            0,
            1,
            2,
            3,
            4,
            5,
            5,
            5,
            4,
            5,
            6,
            6,
            7,
            7,
            6,
            7,
            8,
            8,
            9,
            10,
            10,
            9,
            10,
            11,
        ],
        [
            10,
            11,
            11,
            11,
            11,
            10,
            9,
            10,
            9,
            8,
            7,
            8,
            7,
            6,
            5,
            6,
            5,
            4,
            3,
            4,
            3,
            2,
            1,
            2,
            2,
            2,
            1,
            0,
            1,
            2,
            3,
            4,
            4,
            4,
            3,
            4,
            5,
            5,
            6,
            6,
            5,
            6,
            7,
            7,
            8,
            9,
            9,
            8,
            9,
            10,
        ],
        [
            9,
            10,
            11,
            12,
            11,
            11,
            10,
            11,
            10,
            9,
            8,
            9,
            8,
            7,
            6,
            7,
            6,
            5,
            4,
            5,
            4,
            3,
            2,
            1,
            2,
            3,
            2,
            1,
            0,
            1,
            2,
            3,
            3,
            3,
            2,
            3,
            4,
            4,
            5,
            5,
            4,
            5,
            6,
            6,
            7,
            8,
            8,
            7,
            8,
            9,
        ],
        [
            8,
            9,
            10,
            11,
            10,
            11,
            11,
            12,
            11,
            10,
            9,
            10,
            9,
            8,
            7,
            8,
            7,
            6,
            5,
            6,
            5,
            4,
            3,
            2,
            3,
            4,
            3,
            2,
            1,
            0,
            1,
            2,
            2,
            2,
            1,
            2,
            3,
            3,
            4,
            4,
            3,
            4,
            5,
            5,
            6,
            7,
            7,
            6,
            7,
            8,
        ],
        [
            8,
            9,
            10,
            11,
            10,
            11,
            12,
            12,
            12,
            11,
            10,
            11,
            10,
            9,
            8,
            9,
            8,
            7,
            6,
            7,
            6,
            5,
            4,
            3,
            4,
            5,
            4,
            3,
            2,
            1,
            0,
            1,
            1,
            2,
            2,
            3,
            2,
            3,
            4,
            5,
            4,
            5,
            6,
            5,
            6,
            7,
            7,
            7,
            8,
            9,
        ],
        [
            7,
            8,
            9,
            10,
            9,
            10,
            11,
            11,
            12,
            12,
            11,
            12,
            11,
            10,
            9,
            10,
            9,
            8,
            7,
            8,
            7,
            6,
            5,
            4,
            5,
            6,
            5,
            4,
            3,
            2,
            1,
            0,
            1,
            2,
            3,
            2,
            1,
            2,
            3,
            4,
            3,
            4,
            5,
            4,
            5,
            6,
            6,
            6,
            7,
            8,
        ],
        [
            7,
            8,
            9,
            10,
            9,
            10,
            11,
            11,
            12,
            12,
            11,
            12,
            11,
            10,
            9,
            10,
            9,
            8,
            7,
            8,
            7,
            6,
            5,
            4,
            5,
            6,
            5,
            4,
            3,
            2,
            1,
            1,
            0,
            1,
            2,
            3,
            2,
            2,
            3,
            4,
            4,
            5,
            5,
            4,
            5,
            6,
            6,
            6,
            7,
            8,
        ],
        [
            6,
            7,
            8,
            9,
            8,
            9,
            10,
            10,
            11,
            11,
            11,
            12,
            11,
            10,
            9,
            10,
            9,
            8,
            7,
            8,
            7,
            6,
            5,
            4,
            5,
            6,
            5,
            4,
            3,
            2,
            2,
            2,
            1,
            0,
            1,
            2,
            2,
            1,
            2,
            3,
            3,
            4,
            4,
            3,
            4,
            5,
            5,
            5,
            6,
            7,
        ],
        [
            7,
            8,
            9,
            10,
            9,
            10,
            11,
            11,
            12,
            11,
            10,
            11,
            10,
            9,
            8,
            9,
            8,
            7,
            6,
            7,
            6,
            5,
            4,
            3,
            4,
            5,
            4,
            3,
            2,
            1,
            2,
            3,
            2,
            1,
            0,
            1,
            2,
            2,
            3,
            3,
            2,
            3,
            4,
            4,
            5,
            6,
            6,
            5,
            6,
            7,
        ],
        [
            7,
            8,
            9,
            10,
            9,
            10,
            11,
            11,
            12,
            12,
            11,
            12,
            11,
            10,
            9,
            10,
            9,
            8,
            7,
            8,
            7,
            6,
            5,
            4,
            5,
            6,
            5,
            4,
            3,
            2,
            3,
            2,
            3,
            2,
            1,
            0,
            1,
            2,
            3,
            2,
            1,
            2,
            3,
            4,
            5,
            6,
            5,
            4,
            5,
            6,
        ],
        [
            6,
            7,
            8,
            9,
            8,
            9,
            10,
            10,
            11,
            11,
            12,
            12,
            12,
            11,
            10,
            11,
            10,
            9,
            8,
            9,
            8,
            7,
            6,
            5,
            6,
            7,
            6,
            5,
            4,
            3,
            2,
            1,
            2,
            2,
            2,
            1,
            0,
            1,
            2,
            3,
            2,
            3,
            4,
            3,
            4,
            5,
            5,
            5,
            6,
            7,
        ],
        [
            5,
            6,
            7,
            8,
            7,
            8,
            9,
            9,
            10,
            10,
            11,
            11,
            12,
            11,
            10,
            11,
            10,
            9,
            8,
            9,
            8,
            7,
            6,
            5,
            6,
            7,
            6,
            5,
            4,
            3,
            3,
            2,
            2,
            1,
            2,
            2,
            1,
            0,
            1,
            2,
            3,
            3,
            3,
            2,
            3,
            4,
            4,
            4,
            5,
            6,
        ],
        [
            4,
            5,
            6,
            7,
            6,
            7,
            8,
            8,
            9,
            9,
            10,
            10,
            11,
            11,
            11,
            12,
            11,
            10,
            9,
            10,
            9,
            8,
            7,
            6,
            7,
            8,
            7,
            6,
            5,
            4,
            4,
            3,
            3,
            2,
            3,
            3,
            2,
            1,
            0,
            1,
            2,
            2,
            2,
            1,
            2,
            3,
            3,
            3,
            4,
            5,
        ],
        [
            5,
            6,
            7,
            8,
            7,
            8,
            9,
            9,
            10,
            10,
            11,
            11,
            12,
            12,
            11,
            12,
            11,
            10,
            9,
            10,
            9,
            8,
            7,
            6,
            7,
            8,
            7,
            6,
            5,
            4,
            5,
            4,
            4,
            3,
            3,
            2,
            3,
            2,
            1,
            0,
            1,
            1,
            2,
            2,
            3,
            4,
            4,
            3,
            4,
            5,
        ],
        [
            6,
            7,
            8,
            9,
            8,
            9,
            10,
            10,
            11,
            11,
            12,
            12,
            12,
            11,
            10,
            11,
            10,
            9,
            8,
            9,
            8,
            7,
            6,
            5,
            6,
            7,
            6,
            5,
            4,
            3,
            4,
            3,
            4,
            3,
            2,
            1,
            2,
            3,
            2,
            1,
            0,
            1,
            2,
            3,
            4,
            5,
            4,
            3,
            4,
            5,
        ],
        [
            5,
            6,
            7,
            8,
            7,
            8,
            9,
            9,
            10,
            10,
            11,
            11,
            12,
            12,
            11,
            12,
            11,
            10,
            9,
            10,
            9,
            8,
            7,
            6,
            7,
            8,
            7,
            6,
            5,
            4,
            5,
            4,
            5,
            4,
            3,
            2,
            3,
            3,
            2,
            1,
            1,
            0,
            1,
            2,
            3,
            4,
            3,
            2,
            3,
            4,
        ],
        [
            4,
            5,
            6,
            7,
            6,
            7,
            8,
            8,
            9,
            9,
            10,
            10,
            11,
            11,
            12,
            12,
            12,
            11,
            10,
            11,
            10,
            9,
            8,
            7,
            8,
            9,
            8,
            7,
            6,
            5,
            6,
            5,
            5,
            4,
            4,
            3,
            4,
            3,
            2,
            2,
            2,
            1,
            0,
            1,
            2,
            3,
            2,
            1,
            2,
            3,
        ],
        [
            3,
            4,
            5,
            6,
            5,
            6,
            7,
            7,
            8,
            8,
            9,
            9,
            10,
            10,
            11,
            11,
            12,
            11,
            10,
            11,
            10,
            9,
            8,
            7,
            8,
            9,
            8,
            7,
            6,
            5,
            5,
            4,
            4,
            3,
            4,
            4,
            3,
            2,
            1,
            2,
            3,
            2,
            1,
            0,
            1,
            2,
            2,
            2,
            3,
            4,
        ],
        [
            2,
            3,
            4,
            5,
            4,
            5,
            6,
            6,
            7,
            7,
            8,
            8,
            9,
            9,
            10,
            10,
            11,
            11,
            11,
            12,
            11,
            10,
            9,
            8,
            9,
            10,
            9,
            8,
            7,
            6,
            6,
            5,
            5,
            4,
            5,
            5,
            4,
            3,
            2,
            3,
            4,
            3,
            2,
            1,
            0,
            1,
            1,
            2,
            3,
            3,
        ],
        [
            1,
            2,
            3,
            4,
            3,
            4,
            5,
            5,
            6,
            6,
            7,
            7,
            8,
            8,
            9,
            9,
            10,
            10,
            11,
            11,
            12,
            11,
            10,
            9,
            10,
            11,
            10,
            9,
            8,
            7,
            7,
            6,
            6,
            5,
            6,
            6,
            5,
            4,
            3,
            4,
            5,
            4,
            3,
            2,
            1,
            0,
            1,
            2,
            3,
            2,
        ],
        [
            2,
            3,
            4,
            5,
            4,
            5,
            6,
            6,
            7,
            7,
            8,
            8,
            9,
            9,
            10,
            10,
            11,
            11,
            12,
            12,
            12,
            11,
            10,
            9,
            10,
            11,
            10,
            9,
            8,
            7,
            7,
            6,
            6,
            5,
            6,
            5,
            5,
            4,
            3,
            4,
            4,
            3,
            2,
            2,
            1,
            1,
            0,
            1,
            2,
            3,
        ],
        [
            3,
            4,
            5,
            6,
            5,
            6,
            7,
            7,
            8,
            8,
            9,
            9,
            10,
            10,
            11,
            11,
            12,
            12,
            11,
            12,
            11,
            10,
            9,
            8,
            9,
            10,
            9,
            8,
            7,
            6,
            7,
            6,
            6,
            5,
            5,
            4,
            5,
            4,
            3,
            3,
            3,
            2,
            1,
            2,
            2,
            2,
            1,
            0,
            1,
            2,
        ],
        [
            2,
            3,
            4,
            5,
            4,
            5,
            6,
            6,
            7,
            7,
            8,
            8,
            9,
            9,
            10,
            10,
            11,
            11,
            12,
            12,
            12,
            11,
            10,
            9,
            10,
            11,
            10,
            9,
            8,
            7,
            8,
            7,
            7,
            6,
            6,
            5,
            6,
            5,
            4,
            4,
            4,
            3,
            2,
            3,
            3,
            3,
            2,
            1,
            0,
            1,
        ],
        [
            1,
            2,
            3,
            4,
            3,
            4,
            5,
            5,
            6,
            6,
            7,
            7,
            8,
            8,
            9,
            9,
            10,
            10,
            11,
            11,
            12,
            12,
            11,
            10,
            11,
            12,
            11,
            10,
            9,
            8,
            9,
            8,
            8,
            7,
            7,
            6,
            7,
            6,
            5,
            5,
            5,
            4,
            3,
            4,
            3,
            2,
            3,
            2,
            1,
            0,
        ],
    ]
    a,b,c=agent1.finddiff(50,p,q)
    print(a,b,c)
